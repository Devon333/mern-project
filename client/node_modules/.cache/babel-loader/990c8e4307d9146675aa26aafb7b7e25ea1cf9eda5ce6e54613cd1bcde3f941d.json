{"ast":null,"code":"import _regeneratorRuntime from\"/home/alvadillon/Documents/PersonalDevelopment/hackDiversity/project/2-20/mern-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/alvadillon/Documents/PersonalDevelopment/hackDiversity/project/2-20/mern-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/alvadillon/Documents/PersonalDevelopment/hackDiversity/project/2-20/mern-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,BrowserRouter,Route,Routes,useNavigate}from'react-router-dom';import App from'../App';import Home from'../Home';import React from'react';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminForm=function AdminForm(_ref){var username=_ref.username,setUsername=_ref.setUsername,auth=_ref.auth,setAuth=_ref.setAuth;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(process.env.REACT_APP_BACKEND_URL+\"/login/admin\",{method:\"POST\",crossDomain:true,headers:{\"content-type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"},body:JSON.stringify({user:user,password:password})});case 3:result=_context.sent;_context.next=6;return result.json();case 6:result=_context.sent;console.warn(result,result.name);if(result.login){localStorage.setItem('isAdmin',true);localStorage.setItem('auth',true);localStorage.setItem('username',result.name);//return(<Route path=\"/home\" element={<Home name=\"top\"/>} />) \nconsole.log(result);navigate(\"/home\");}else{alert(\"Please enter correct details\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"loginHeading\",children:\"Admin Login Page\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loginDiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"formDiv\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"User\",children:\"UserName:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user\",id:\"user\",value:user,onChange:function onChange(e){return setUser(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"BTL\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register New User\"})})]})})})]});};export default AdminForm;","map":{"version":3,"names":["Link","BrowserRouter","Route","Routes","useNavigate","App","Home","React","useState","AdminForm","username","setUsername","auth","setAuth","user","setUser","password","setPassword","navigate","submitHandler","e","preventDefault","fetch","process","env","REACT_APP_BACKEND_URL","method","crossDomain","headers","Accept","body","JSON","stringify","result","json","console","warn","name","login","localStorage","setItem","log","alert","target","value"],"sources":["/home/alvadillon/Documents/PersonalDevelopment/hackDiversity/project/2-20/mern-project/client/src/Pages/Admin.js"],"sourcesContent":["import { Link, BrowserRouter, Route, Routes, useNavigate } from 'react-router-dom';\nimport App from '../App';\nimport Home from '../Home';\nimport React from 'react';\nimport { useState } from 'react';\n\n\nconst AdminForm=({username, setUsername, auth, setAuth})=> {\n    const [user, setUser] = useState('');\n    const [password, setPassword] = useState('');\n    const navigate = useNavigate();\n    const submitHandler = async (e) => {\n        e.preventDefault();\n\n        let result = await fetch(process.env.REACT_APP_BACKEND_URL+\"/login/admin\",{\n          method:\"POST\",\n          crossDomain:true,\n          headers:{\n          \"content-type\":\"application/json\",\n          Accept:\"application/json\",\n          \"Access-Control-Allow-Origin\":\"*\",\n          },\n          body:JSON.stringify({\n            user,\n            password, \n            })\n        })\n          result = await result.json()\n          console.warn(result,result.name);\n          if(result.login){\n            localStorage.setItem('isAdmin',true);\n            localStorage.setItem('auth',true);\n            localStorage.setItem('username',result.name); \n            //return(<Route path=\"/home\" element={<Home name=\"top\"/>} />) \n            console.log(result);\n            navigate(\"/home\"); \n        }else{alert(\"Please enter correct details\")}\n    }\n    return(\n\n    <div className='container'>\n      <h1 className=\"loginHeading\">Admin Login Page</h1>\n      <div className='loginDiv'>\n        <div className='formDiv'>\n            <form onSubmit={submitHandler}>\n              <label htmlFor=\"User\">\n                UserName:\n              </label>\n               <input type=\"text\" name='user' id=\"user\" value={user}\n               onChange={e => setUser( e.target.value)}/>\n              <label htmlFor='password'>Password: </label>\n               <input type=\"password\" name=\"password\" id=\"password\" value={password} \n               onChange={e => setPassword( e.target.value)}/>\n              <input  type='submit' value='Submit'/>\n              <p className=\"BTL\"><Link to=\"/register\">Register New User</Link></p>\n            </form>\n         </div>\n      </div>\n    </div>\n\n\n    )\n}\n\nexport default AdminForm;\n\n"],"mappings":"yiBAAA,OAASA,IAAI,CAAEC,aAAa,CAAEC,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CAClF,MAAOC,IAAG,KAAM,QAAQ,CACxB,MAAOC,KAAI,KAAM,SAAS,CAC1B,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAAC,wFAGjC,GAAMC,UAAS,CAAC,QAAVA,UAAS,MAA4C,IAAzCC,SAAQ,MAARA,QAAQ,CAAEC,WAAW,MAAXA,WAAW,CAAEC,IAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CAClD,cAAwBL,QAAQ,CAAC,EAAE,CAAC,wCAA7BM,IAAI,eAAEC,OAAO,eACpB,eAAgCP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,SAAQ,CAAGd,WAAW,EAAE,CAC9B,GAAMe,cAAa,6FAAG,iBAAOC,CAAC,8HAC1BA,CAAC,CAACC,cAAc,EAAE,CAAC,sBAEAC,MAAK,CAACC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAAC,cAAc,CAAC,CACxEC,MAAM,CAAC,MAAM,CACbC,WAAW,CAAC,IAAI,CAChBC,OAAO,CAAC,CACR,cAAc,CAAC,kBAAkB,CACjCC,MAAM,CAAC,kBAAkB,CACzB,6BAA6B,CAAC,GAC9B,CAAC,CACDC,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CAClBlB,IAAI,CAAJA,IAAI,CACJE,QAAQ,CAARA,QACA,CAAC,CACL,CAAC,CAAC,QAZEiB,MAAM,qCAaOA,OAAM,CAACC,IAAI,EAAE,QAA5BD,MAAM,eACNE,OAAO,CAACC,IAAI,CAACH,MAAM,CAACA,MAAM,CAACI,IAAI,CAAC,CAChC,GAAGJ,MAAM,CAACK,KAAK,CAAC,CACdC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CACpCD,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CACjCD,YAAY,CAACC,OAAO,CAAC,UAAU,CAACP,MAAM,CAACI,IAAI,CAAC,CAC5C;AACAF,OAAO,CAACM,GAAG,CAACR,MAAM,CAAC,CACnBf,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,IAAI,CAACwB,KAAK,CAAC,8BAA8B,CAAC,EAAC,qDAC/C,kBA1BKvB,cAAa,6CA0BlB,CACD,mBAEA,aAAK,SAAS,CAAC,WAAW,wBACxB,WAAI,SAAS,CAAC,cAAc,UAAC,kBAAgB,EAAK,cAClD,YAAK,SAAS,CAAC,UAAU,uBACvB,YAAK,SAAS,CAAC,SAAS,uBACpB,cAAM,QAAQ,CAAEA,aAAc,wBAC5B,cAAO,OAAO,CAAC,MAAM,UAAC,WAEtB,EAAQ,cACP,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAEL,IAAK,CACrD,QAAQ,CAAE,kBAAAM,CAAC,QAAIL,QAAO,CAAEK,CAAC,CAACuB,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC3C,cAAO,OAAO,CAAC,UAAU,UAAC,YAAU,EAAQ,cAC3C,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAE5B,QAAS,CACrE,QAAQ,CAAE,kBAAAI,CAAC,QAAIH,YAAW,CAAEG,CAAC,CAACuB,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC/C,cAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,cACtC,UAAG,SAAS,CAAC,KAAK,uBAAC,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,UAAC,mBAAiB,EAAO,EAAI,GAC/D,EACJ,EACH,GACF,CAIV,CAAC,CAED,cAAenC,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}